<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.passmate.controllers.components.SidebarController"
      spacing="12" styleClass="sidebar-root"
      stylesheets="@/css/style.css">
    <padding>
        <Insets top="16" right="12" bottom="16" left="12"/>
    </padding>

    <fx:define>
        <ToggleGroup fx:id="navGroup" />
    </fx:define>

    <!-- Brand -->
    <HBox spacing="8" alignment="CENTER_LEFT" styleClass="brand-row">
        <StackPane styleClass="brand-badge">
            <Label text="P" />
        </StackPane>
        <Label text="PassMate" styleClass="brand-title" />
    </HBox>

    <!-- Nav -->
    <VBox spacing="6" styleClass="nav-group">
        <ToggleButton fx:id="btnVault" text="All passwords" styleClass="nav-btn" selected="true" toggleGroup="$navGroup">
            <graphic><FontIcon iconLiteral="fas-shield-alt" iconSize="14"/></graphic>
        </ToggleButton>
        <ToggleButton fx:id="btnFavourites" text="Favourites" styleClass="nav-btn" toggleGroup="$navGroup">
            <graphic><FontIcon iconLiteral="fas-star" iconSize="14"/></graphic>
        </ToggleButton>
        <ToggleButton fx:id="btnBin" text="Bin" styleClass="nav-btn" toggleGroup="$navGroup">
            <graphic><FontIcon iconLiteral="fas-trash" iconSize="14"/></graphic>
        </ToggleButton>
    </VBox>

    <Separator />

    <!-- By type (placeholders) -->
    <VBox spacing="6">
        <Label text="By type" styleClass="section-title" />
        <Label text="Website login" styleClass="folder-btn">
            <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
        </Label>
        <Label text="Cards" styleClass="folder-btn">
            <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
        </Label>
        <Label text="Identity" styleClass="folder-btn">
            <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
        </Label>
        <Label text="Notes" styleClass="folder-btn">
            <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
        </Label>
    </VBox>

    <Separator />

    <!-- Folders header + add -->
    <HBox spacing="8" alignment="CENTER_LEFT" styleClass="folders-header">
        <Label text="Folders" styleClass="section-title" />
        <Region HBox.hgrow="ALWAYS" />
        <Button fx:id="addCategoryBtn" styleClass="icon-btn small">
            <graphic><FontIcon iconLiteral="fas-plus" iconSize="12"/></graphic>
        </Button>
    </HBox>
    <TextField fx:id="categoryInput" promptText="New folder" styleClass="sidebar-input" />

    <!-- Category list component -->
    <fx:include fx:id="categoryList" source="/views/components/CategoryList.fxml" />

    <VBox VBox.vgrow="ALWAYS" />

    <!-- Bottom user info -->
    <HBox spacing="8" alignment="CENTER_LEFT">
        <ImageView fx:id="userAvatar" fitWidth="28" fitHeight="28" preserveRatio="true" />
        <Label fx:id="userNameLabel" styleClass="header-username" text="User" />
        <Region HBox.hgrow="ALWAYS" />
    </HBox>
</VBox>
